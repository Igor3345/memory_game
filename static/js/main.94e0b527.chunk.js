(this["webpackJsonpgame-card"]=this["webpackJsonpgame-card"]||[]).push([[0],{13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),c=a(8),i=a.n(c),n=(a(13),a(3)),l=a(4),d=a(2),_=a(6),h=a(5),o=a(0),u=function(e){Object(_.a)(a,e);var t=Object(h.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(o.jsx)("ul",{className:"header__marks",children:this.props.players_array.map((function(t,a){return Object(o.jsxs)("li",{className:"header__mark "+e.props.active_player[a],children:["\u0418\u0433\u0440\u043e\u043a ",a+1,":",Object(o.jsxs)("span",{className:"header__number",children:[" ",t]})]},e.props.keys[a])}))})}}]),a}(r.a.Component),m=function(e){Object(_.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).read=s.read.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"read",value:function(e){this.props.read(e.target)}},{key:"render",value:function(){var e=this;return Object(o.jsx)(o.Fragment,{children:this.props.img.img_arr.map((function(t,a){return Object(o.jsx)("div",{className:"main__card",onClick:e.read,children:Object(o.jsx)("img",{className:"main__img",src:t,alt:""})},e.props.img.img_key[a])}))})}}]),a}(r.a.Component),p=function(e){Object(_.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={players_array:[],players_key:[],active_player:[],player_current:0,cards:0,open_cards:0,image:{img_arr:[],img_key:[]},turned_cards:[],function_state:!0,main_class:"main__table"},s.createData=s.createData.bind(Object(d.a)(s)),s.readCard=s.readCard.bind(Object(d.a)(s)),s.score=s.score.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"createData",value:function(e){var t=[],a=[],s=[];if(0===this.state.image.img_arr.length){for(var r=this.state.image.img_arr,c=this.state.image.img_key,i=0;i<this._cards_select.value/2;i++)r.push("/img/card".concat(i,".jpg")),r.push("/img/card".concat(i,".jpg"));for(var n=0;n<this._cards_select.value;n++)c.push(Math.floor(1e6*Math.random())+1);for(var l=r.length-1;l>0;l--){var d=Math.floor(Math.random()*(l+1)),_=[r[d],r[l]];r[l]=_[0],r[d]=_[1]}for(var h=0;h<this._players_select.value;h++)t.push(0),a.push(Math.floor(1e6*Math.random())+1),h===this.state.player_current?s.push("header__mark--current"):s.push("");this.setState({players_array:t,players_key:a,player_current:0,active_player:s,cards:parseFloat(this._cards_select.value),image:{img_arr:r,img_key:c}})}else t=[],s=[],this.setState({image:{img_arr:[],img_key:[]},players_array:t,player_current:0,active_player:s,turned_cards:[]});"\u0421\u0442\u0430\u0440\u0442"===e.target.textContent?(this._container.classList.add("container--active"),this._header.classList.remove("header--translate"),this._main.style.display="block",30===parseFloat(this._cards_select.value)?this.setState({main_class:"main__table main__table--30"}):90===parseFloat(this._cards_select.value)?this.setState({main_class:"main__table main__table--90"}):this.setState({main_class:"main__table"}),e.target.textContent="\u0421\u0442\u043e\u043f"):(this._container.classList.remove("container--active"),this._header.classList.add("header--translate"),this._main.style.display="none",e.target.textContent="\u0421\u0442\u0430\u0440\u0442")}},{key:"readCard",value:function(e){var t=this,a=this.state.turned_cards,s=!0;void 0!==this.state.turned_cards[0]&&void 0!==this.state.turned_cards[1]||!0!==this.state.function_state||(e.classList.add("main__card--open"),void 0===this.state.turned_cards[0]?a.push(e):null!=e.firstChild&&(a.push(e),s=!1),this.setState({turned_cards:a,function_state:s})),this.state.turned_cards[0]&&this.state.turned_cards[1]&&!0===this.state.function_state&&setTimeout((function(){return t.score()}),700)}},{key:"score",value:function(){var e=this,t=this.state.player_current,a=[],s=this.state.open_cards;if(this.state.turned_cards[0].firstChild.getAttribute("src")===this.state.turned_cards[1].firstChild.getAttribute("src"))this.state.players_array[t]++,this.state.turned_cards[0].classList.add("main__card--equal"),this.state.turned_cards[1].classList.add("main__card--equal"),s+=2,this.setState({turned_cards:[],open_cards:s}),setTimeout((function(){return e.setState({function_state:!0})}),720);else{t<this.state.players_array.length-1?(t+=1,this.state.turned_cards[0].classList.remove("main__card--open"),this.state.turned_cards[1].classList.remove("main__card--open"),this.setState({player_current:t,turned_cards:[]}),setTimeout((function(){return e.setState({function_state:!0})}),720)):(t=0,this.state.turned_cards[0].classList.remove("main__card--open"),this.state.turned_cards[1].classList.remove("main__card--open"),this.setState({player_current:t,turned_cards:[]}),setTimeout((function(){return e.setState({function_state:!0})}),720));for(var r=0;r<this._players_select.value;r++)r===t?a.push("header__mark--current"):a.push("");this.setState({active_player:a}),setTimeout((function(){return e.setState({function_state:!0})}),720)}this.state.cards===this.state.open_cards&&(this._container.classList.remove("container--active"),this._header.classList.add("header--translate"),this._main.style.display="none")}},{key:"render",value:function(){var e=this;return Object(o.jsxs)("div",{className:"container",ref:function(t){return e._container=t},children:[Object(o.jsxs)("header",{className:"header header--translate",ref:function(t){return e._header=t},children:[Object(o.jsxs)("div",{className:"header__top",children:[Object(o.jsx)("h1",{className:"header__title",children:"\u041d\u0430\u0439\u0434\u0438 \u043f\u0430\u0440\u0443."}),Object(o.jsx)("span",{className:"header__description",children:"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0438\u0433\u0440\u044b \u043f\u0440\u043e\u0441\u0442\u044b\u0435: \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0439\u0442\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438, \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u0439\u0442\u0435 \u0438\u0445 \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0438 \u043d\u0430\u0439\u0434\u0438\u0442\u0435 \u0438\u043c \u043f\u0430\u0440\u0443. \u0418\u0433\u0440\u043e\u043a\u0443, \u043d\u0430\u0448\u0435\u0434\u0448\u0435\u043c\u0443 \u043f\u0430\u0440\u0443 \u0431\u0443\u0434\u0435\u0442 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d \u0431\u0430\u043b\u043b. \u0414\u0430\u043d\u043d\u0430\u044f \u0438\u0433\u0440\u0430 \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d\u0430 \u0434\u043e 4 \u0438\u0433\u0440\u043e\u043a\u043e\u0432."})]}),Object(o.jsxs)("div",{className:"header___bottom",children:[Object(o.jsxs)("div",{className:"header__selects",children:[Object(o.jsxs)("div",{className:"header__select",children:[Object(o.jsx)("label",{htmlFor:"header__players",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432:"}),Object(o.jsxs)("select",{className:"header__players",name:"players",id:"header__players",ref:function(t){return e._players_select=t},children:[Object(o.jsx)("option",{className:"header__player",value:"1",children:"1"}),Object(o.jsx)("option",{className:"header__player",value:"2",children:"2"}),Object(o.jsx)("option",{className:"header__player",value:"3",children:"3"}),Object(o.jsx)("option",{className:"header__player",value:"4",children:"4"})]})]}),Object(o.jsxs)("div",{className:"header__select",children:[Object(o.jsx)("label",{htmlFor:"header__carts",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a:"}),Object(o.jsxs)("select",{className:"header__carts",name:"carts",id:"header__carts",ref:function(t){return e._cards_select=t},children:[Object(o.jsx)("option",{className:"header__cart",value:"30",children:"30 \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a"}),Object(o.jsx)("option",{className:"header__cart",value:"60",children:"60 \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a"}),Object(o.jsx)("option",{className:"header__cart",value:"90",children:"90 \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a"})]})]})]}),Object(o.jsx)("div",{className:"header__score",children:Object(o.jsx)(u,{players_array:this.state.players_array,keys:this.state.players_key,active_player:this.state.active_player})}),Object(o.jsx)("div",{className:"header__button",children:Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"header__but header__start",onClick:this.createData,children:"\u0421\u0442\u0430\u0440\u0442"})})})]})]}),Object(o.jsx)("main",{className:"main",ref:function(t){return e._main=t},children:Object(o.jsx)("div",{className:"wrap",children:Object(o.jsx)("div",{className:this.state.main_class,children:Object(o.jsx)(m,{img:this.state.image,read:this.readCard})})})}),Object(o.jsx)("footer",{className:"footer"})]})}}]),a}(r.a.Component);i.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(p,{})}),document.getElementById("container"))}},[[15,1,2]]]);
//# sourceMappingURL=main.94e0b527.chunk.js.map